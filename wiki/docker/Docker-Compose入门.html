<!DOCTYPE html>
<html lang='zh-CN'>

<head>
  <meta name="generator" content="Hexo 6.3.0">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.19.0">
  <meta charset="utf-8">
  

  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://gcore.jsdelivr.net'>
  <link rel="preconnect" href="https://gcore.jsdelivr.net" crossorigin>
  <link rel='dns-prefetch' href='//unpkg.com'>

  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#f8f8f8">
  
  <title>Docker：Docker-Compose入门 - aloneme</title>

  
    <meta name="description" content="1、Docker-Compose简介  Compose是一个用于定义和运行多容器Docker应用程序的工具。主要用来构建基于Docker的复杂应用,使用Compose，您可以使用YAML文件来配置应用程序的服务。然后，使用单个命令，您可以从配置中创建并启动所有服务。非常适合组合使用多个容器进行开发的场景。 2、Docker-Compose安装2.1、安装方式(二进制文件)12345678910#下">
<meta property="og:type" content="website">
<meta property="og:title" content="Docker-Compose入门">
<meta property="og:url" content="https://hexo.aloneme.cn/wiki/docker/Docker-Compose%E5%85%A5%E9%97%A8.html">
<meta property="og:site_name" content="aloneme">
<meta property="og:description" content="1、Docker-Compose简介  Compose是一个用于定义和运行多容器Docker应用程序的工具。主要用来构建基于Docker的复杂应用,使用Compose，您可以使用YAML文件来配置应用程序的服务。然后，使用单个命令，您可以从配置中创建并启动所有服务。非常适合组合使用多个容器进行开发的场景。 2、Docker-Compose安装2.1、安装方式(二进制文件)12345678910#下">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-09-06T07:54:12.000Z">
<meta property="article:modified_time" content="2023-09-06T07:55:17.780Z">
<meta property="article:author" content="yz">
<meta property="article:tag" content="yz YongZheng Java SpringBoot">
<meta name="twitter:card" content="summary">
  
  
  
  <meta name="keywords" content="yz YongZheng Java SpringBoot">

  <!-- feed -->
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  

  

  


  
</head>

<body>
  




  <div class='l_body' id='start'>
    <aside class='l_left' layout='wiki'>
    

  




<div class="widgets"><widget class="widget-wrapper logo-wrap wiki"><div class="widget-body"><a style="filter: grayscale(100%)" class="wiki-home cap" href="/wiki"><svg aria-hidden="true" viewBox="0 0 16 16" width="1rem" height="1rem" fill="currentColor"><path fill-rule="evenodd" d="M7.78 12.53a.75.75 0 01-1.06 0L2.47 8.28a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 1.06L4.81 7h7.44a.75.75 0 010 1.5H4.81l2.97 2.97a.75.75 0 010 1.06z"></path></svg>所有项目</a><a class="title" href="/wiki/docker/Docker%E5%85%A5%E9%97%A8.html"><div class="main" ff="title">Docker</div><div class="sub normal cap">Docker</div><div class="sub hover cap" style="opacity:0"> Designed by aloneme</div></a></div></widget>
<widget class="widget-wrapper search"><div class="widget-body"><div class="search-wrapper" id="search"><form class="search-form"><input type="text" class="search-input" id="search-input" data-filter="/wiki/docker/" placeholder="在Docker专题中搜索"><svg t="1670596976048" class="icon search-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2676" width="200" height="200"><path d="M938.2 832.6L723.8 618.1c-2.5-2.5-5.3-4.4-7.9-6.4 36.2-55.6 57.3-121.8 57.3-193.1C773.3 222.8 614.6 64 418.7 64S64 222.8 64 418.6c0 195.9 158.8 354.6 354.6 354.6 71.3 0 137.5-21.2 193.2-57.4 2 2.7 3.9 5.4 6.3 7.8L832.5 938c14.6 14.6 33.7 21.9 52.8 21.9 19.1 0 38.2-7.3 52.8-21.8 29.2-29.1 29.2-76.4 0.1-105.5M418.7 661.3C284.9 661.3 176 552.4 176 418.6 176 284.9 284.9 176 418.7 176c133.8 0 242.6 108.9 242.6 242.7 0 133.7-108.9 242.6-242.6 242.6" p-id="2677"></path></svg></form><div id="search-result"></div><div class="search-no-result">没有找到内容！</div></div></div></widget>


<widget class="widget-wrapper toc multi" id="data-toc"><div class="widget-header cap dis-select"><span class="name">Docker-Compose入门</span></div><div class="widget-body fs14"><div class="doc-tree"><a class="doc-tree-link" href="/wiki/docker/Docker%E5%85%A5%E9%97%A8.html#start"><span class="toc-text">Docker入门</span></a></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/docker/Docker%E6%97%A5%E5%BF%97%E6%B8%85%E7%90%86.html"><span class="toc-text">Docker日志清理</span></a></div><div class="doc-tree active"><a class="doc-tree-link active" href="/wiki/docker/Docker-Compose%E5%85%A5%E9%97%A8.html"><span class="toc-text">Docker-Compose入门</span></a><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1%E3%80%81%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F-%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6"><span class="toc-text">2.1、安装方式(二进制文件)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2%E3%80%81%E5%88%A0%E9%99%A4%E6%96%B9%E5%BC%8F"><span class="toc-text">2.2、删除方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1%E3%80%81Docker-Compose%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F"><span class="toc-text">3.1、Docker-Compose命令格式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#A%E3%80%81%E6%A0%BC%E5%BC%8F"><span class="toc-text">A、格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#B%E3%80%81%E9%80%89%E9%A1%B9%EF%BC%88options%EF%BC%89%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="toc-text">B、选项（options）如下：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#C%E3%80%81%E5%91%BD%E4%BB%A4%EF%BC%88COMMAND%EF%BC%89%E5%A6%82%E4%B8%8B"><span class="toc-text">C、命令（COMMAND）如下</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2%E3%80%81%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F%EF%BC%88pull%EF%BC%89"><span class="toc-text">3.2、拉取镜像（pull）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#A%E3%80%81%E5%91%BD%E4%BB%A4%EF%BC%9A"><span class="toc-text">A、命令：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#B%E3%80%81%E9%80%89%E9%A1%B9%E5%8C%85%E6%8B%AC%EF%BC%9A"><span class="toc-text">B、选项包括：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3%E3%80%81%E6%9E%84%E5%BB%BA%E5%AE%B9%E5%99%A8%EF%BC%88build%EF%BC%89"><span class="toc-text">3.3、构建容器（build）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#A%E3%80%81%E5%91%BD%E4%BB%A4%EF%BC%9A-1"><span class="toc-text">A、命令：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#B%E3%80%81%E9%80%89%E9%A1%B9%E5%8C%85%E6%8B%AC%EF%BC%9A-1"><span class="toc-text">B、选项包括：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4%E3%80%81%E5%88%9B%E5%BB%BA%E5%AE%B9%E5%99%A8%EF%BC%88create%EF%BC%89"><span class="toc-text">3.4、创建容器（create）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#A%E3%80%81%E5%91%BD%E4%BB%A4%EF%BC%9A-2"><span class="toc-text">A、命令：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#B%E3%80%81%E9%80%89%E9%A1%B9%E5%8C%85%E6%8B%AC%EF%BC%9A-2"><span class="toc-text">B、选项包括：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2%E3%80%81%E8%BF%90%E8%A1%8C%E6%9C%8D%E5%8A%A1%EF%BC%88up%EF%BC%89"><span class="toc-text">3.2、运行服务（up）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#A%E3%80%81%E5%91%BD%E4%BB%A4%EF%BC%9A-3"><span class="toc-text">A、命令：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#B%E3%80%81%E9%80%89%E9%A1%B9%E5%8C%85%E6%8B%AC%EF%BC%9A-3"><span class="toc-text">B、选项包括：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3%E3%80%81%E5%88%97%E5%87%BA%E5%AE%B9%E5%99%A8%E5%88%97%E8%A1%A8%EF%BC%88ps%EF%BC%89"><span class="toc-text">3.3、列出容器列表（ps）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#A%E3%80%81%E5%91%BD%E4%BB%A4%EF%BC%9A-4"><span class="toc-text">A、命令：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4%E3%80%81%E5%90%AF%E5%8A%A8%E5%AE%B9%E5%99%A8%EF%BC%88start%EF%BC%89"><span class="toc-text">3.4、启动容器（start）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E5%B7%B2%E7%BB%8F%E5%AD%98%E5%9C%A8%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%AE%B9%E5%99%A8"><span class="toc-text">启动已经存在的服务容器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#A%E3%80%81%E5%91%BD%E4%BB%A4%EF%BC%9A-5"><span class="toc-text">A、命令：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-5%E3%80%81%E9%87%8D%E5%90%AF%E6%9C%8D%E5%8A%A1%EF%BC%88restart%EF%BC%89"><span class="toc-text">3.5、重启服务（restart）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#A%E3%80%81%E5%91%BD%E4%BB%A4%EF%BC%9A-6"><span class="toc-text">A、命令：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#B%E3%80%81%E9%80%89%E9%A1%B9%E5%8C%85%E6%8B%AC%EF%BC%9A-4"><span class="toc-text">B、选项包括：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-6%E3%80%81%E5%81%9C%E6%AD%A2%E5%AE%B9%E5%99%A8%EF%BC%88stop%EF%BC%89"><span class="toc-text">3.6、停止容器（stop）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#A%E3%80%81%E5%91%BD%E4%BB%A4%EF%BC%9A-7"><span class="toc-text">A、命令：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#B%E3%80%81%E9%80%89%E9%A1%B9%E5%8C%85%E6%8B%AC%EF%BC%9A-5"><span class="toc-text">B、选项包括：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-7%E3%80%81%E5%88%A0%E9%99%A4%E5%81%9C%E6%AD%A2%E5%AE%B9%E5%99%A8%EF%BC%88rm%EF%BC%89"><span class="toc-text">3.7、删除停止容器（rm）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#A%E3%80%81%E5%91%BD%E4%BB%A4"><span class="toc-text">A、命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#B%E3%80%81%E9%80%89%E9%A1%B9%E5%8C%85%E6%8B%AC%EF%BC%9A-6"><span class="toc-text">B、选项包括：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-8%E3%80%81%E5%81%9C%E6%AD%A2%E5%92%8C%E5%88%A0%E9%99%A4%E5%AE%B9%E5%99%A8%EF%BC%88down%EF%BC%89"><span class="toc-text">3.8、停止和删除容器（down）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#A%E3%80%81%E5%91%BD%E4%BB%A4%EF%BC%9A-8"><span class="toc-text">A、命令：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#B%E3%80%81%E9%80%89%E9%A1%B9%E5%8C%85%E6%8B%AC%EF%BC%9A-7"><span class="toc-text">B、选项包括：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-9%E3%80%81%E6%9F%A5%E7%9C%8B%E6%97%A5%E5%BF%97%EF%BC%88logs%EF%BC%89"><span class="toc-text">3.9、查看日志（logs）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-10%E3%80%81docker-compose-run"><span class="toc-text">3.10、docker-compose run</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-11%E3%80%81docker-compose-scale"><span class="toc-text">3.11、docker-compose scale</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-12%E3%80%81docker-compose-pause"><span class="toc-text">3.12、docker-compose pause</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-13%E3%80%81docker-compose-kill"><span class="toc-text">3.13、docker-compose kill</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-14%E3%80%81dokcer-compose-config"><span class="toc-text">3.14、dokcer-compose config</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-1"><span class="toc-text"></span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-15%E3%80%81docker-compose-exec"><span class="toc-text">3.15、docker-compose exec</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-16%E3%80%81docker-compose-port"><span class="toc-text">3.16、docker-compose port</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-17%E3%80%81docker-compose-push"><span class="toc-text">3.17、docker-compose push</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-18%E3%80%81docker-compose-unpause"><span class="toc-text">3.18、docker-compose unpause</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-19%E3%80%81%E6%9F%A5%E7%9C%8B%E5%B8%AE%E5%8A%A9"><span class="toc-text">3.19、查看帮助</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-20%E3%80%81%E6%9F%A5%E7%9C%8B%E7%89%88%E6%9C%AC%E5%8F%B7"><span class="toc-text">3.20、查看版本号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-21%E3%80%81%E6%9F%A5%E7%9C%8B%E6%AD%A3%E5%9C%A8%E8%BF%90%E8%A1%8C%E7%9A%84%E8%BF%9B%E7%A8%8B"><span class="toc-text">3.21、查看正在运行的进程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81Docker-Compose%E6%A8%A1%E6%9D%BF%E6%96%87%E4%BB%B6"><span class="toc-text">三、Docker-Compose模板文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81Docker-Compose%E6%A8%A1%E6%9D%BF%E6%96%87%E4%BB%B6%E7%AE%80%E4%BB%8B"><span class="toc-text">1、Docker-Compose模板文件简介</span></a></li></ol></li></ol></div></div></widget>
</div>


    </aside>
    <div class='l_main'>
      

      

  
  
  
<div class="bread-nav fs12"><div id="breadcrumb"><a class="cap breadcrumb" id="home" href="/">主页</a><span class="sep"></span><a class="cap breadcrumb" id="menu" href="/wiki/">专题</a><span class="sep"></span><a class="cap breadcrumb" id="proj" href="/wiki/docker/Docker%E5%85%A5%E9%97%A8.html">Docker</a></div><div id="post-meta">更新于&nbsp;<time datetime="2023-09-06T07:55:17.780Z">2023-09-06</time></div></div>

  <article class='md-text content wiki'>
  <h1 class="article-title"><span>Docker-Compose入门</span></h1>
  <h1 id="1、Docker-Compose简介"><a href="#1、Docker-Compose简介" class="headerlink" title="1、Docker-Compose简介"></a>1、Docker-Compose简介</h1><blockquote>
</blockquote>
<p>Compose是一个用于定义和运行多容器Docker应用程序的工具。主要用来构建基于Docker的复杂应用,使用Compose，您可以使用YAML文件来配置应用程序的服务。然后，使用单个命令，您可以从配置中创建并启动所有服务。非常适合组合使用多个容器进行开发的场景。</p>
<h1 id="2、Docker-Compose安装"><a href="#2、Docker-Compose安装" class="headerlink" title="2、Docker-Compose安装"></a>2、Docker-Compose安装</h1><h2 id="2-1、安装方式-二进制文件"><a href="#2-1、安装方式-二进制文件" class="headerlink" title="2.1、安装方式(二进制文件)"></a>2.1、安装方式(二进制文件)</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">下载最新版的docker-compose文件   github地址：https://github.com/docker/compose/releases</span></span><br><span class="line">curl -L https://github.com/docker/compose/releases/download/1.24.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose</span><br><span class="line"></span><br><span class="line">curl -L https://github.com/docker/compose/releases/download/2.5.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">添加可执行权限</span> </span><br><span class="line">sudo chmod +x /usr/local/bin/docker-compose</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">测试安装结果</span> </span><br><span class="line">docker-compose --version </span><br><span class="line">docker-compose version 1.24.0, build 0aa59064</span><br></pre></td></tr></table></figure>

<h2 id="2-2、删除方式"><a href="#2-2、删除方式" class="headerlink" title="2.2、删除方式"></a>2.2、删除方式</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">直接删除二进制文件</span></span><br><span class="line">sudo rm -rf /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure>

<ul>
<li>注：另一种方式请自行百度，这里不做过多介绍</li>
</ul>
<h1 id="3、常用命令"><a href="#3、常用命令" class="headerlink" title="3、常用命令"></a>3、常用命令</h1><h2 id="3-1、Docker-Compose命令格式"><a href="#3-1、Docker-Compose命令格式" class="headerlink" title="3.1、Docker-Compose命令格式"></a>3.1、<code>Docker-Compose</code>命令格式</h2><h4 id="A、格式"><a href="#A、格式" class="headerlink" title="A、格式"></a>A、格式</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose [-f &lt;arg&gt;...] [options] [COMMAND] [ARGS...]</span><br></pre></td></tr></table></figure>

<h4 id="B、选项（options）如下："><a href="#B、选项（options）如下：" class="headerlink" title="B、选项（options）如下："></a>B、选项（options）如下：</h4><table>
<thead>
<tr>
<th>选项</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>-f, –file FILE</td>
<td>指定Compose模板文件，默认为docker-compose.yml</td>
</tr>
<tr>
<td>-p, –project-name NAME</td>
<td>指定项目名称，默认将使用所在目录名称作为项目名</td>
</tr>
<tr>
<td>–verbose</td>
<td>输出更多调试信</td>
</tr>
<tr>
<td>–log-level LEVEL</td>
<td>设置日志级别 (DEBUG, INFO, WARNING, ERROR, CRITICAL)</td>
</tr>
<tr>
<td>-v, –version</td>
<td>打印版本并退出</td>
</tr>
<tr>
<td>-x-network-driver</td>
<td>-x-network-driver</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id="C、命令（COMMAND）如下"><a href="#C、命令（COMMAND）如下" class="headerlink" title="C、命令（COMMAND）如下"></a>C、命令（COMMAND）如下</h4><table>
<thead>
<tr>
<th>命令</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>build</td>
<td>构建项目中的服务容器</td>
</tr>
<tr>
<td>bundle</td>
<td>从撰写文件生成Docker包</td>
</tr>
<tr>
<td>config</td>
<td>验证和查看compose文件配置</td>
</tr>
<tr>
<td>create</td>
<td>为服务创建容器。只是单纯的create，还需要使用start启动compose</td>
</tr>
<tr>
<td>down</td>
<td>停止并删除容器，网络，镜像和数据卷</td>
</tr>
<tr>
<td>events</td>
<td>事件从容器接收实时事件</td>
</tr>
<tr>
<td>exec</td>
<td>在运行的容器中执行一个命令</td>
</tr>
<tr>
<td>help</td>
<td>获得一个命令的帮助</td>
</tr>
<tr>
<td>images</td>
<td>获得镜像列表</td>
</tr>
<tr>
<td>kill</td>
<td>通过发送SIGKILL信号来强制停止服务容器</td>
</tr>
<tr>
<td>logs</td>
<td>查看服务容器的输出</td>
</tr>
<tr>
<td>pause</td>
<td>暂停一个服务容器</td>
</tr>
<tr>
<td>port</td>
<td>打印某个容器端口所映射的公共端口</td>
</tr>
<tr>
<td>ps</td>
<td>列出项目中目前的所有容器</td>
</tr>
<tr>
<td>pull</td>
<td>拉取服务依赖的镜像</td>
</tr>
<tr>
<td>push</td>
<td>推送服务镜像</td>
</tr>
<tr>
<td>restart</td>
<td>重启项目中的服务</td>
</tr>
<tr>
<td>rm</td>
<td>删除所有（停止状态的）服务容器</td>
</tr>
<tr>
<td>run</td>
<td>在指定服务上执行一个命令</td>
</tr>
<tr>
<td>scale</td>
<td>设置指定服务运行的容器个数</td>
</tr>
<tr>
<td>start</td>
<td>启动已经存在的服务容器</td>
</tr>
<tr>
<td>stop</td>
<td>停止已经处于运行状态的容器，但不删除它</td>
</tr>
<tr>
<td>top</td>
<td>显示运行的进程</td>
</tr>
<tr>
<td>unpause</td>
<td>恢复处于暂停状态中的服务</td>
</tr>
<tr>
<td>up</td>
<td>自动完成包括构建镜像、创建服务、启动服务并关闭关联服务相关容器的一些列操作</td>
</tr>
<tr>
<td>version</td>
<td>打印版本信息</td>
</tr>
</tbody></table>
<h2 id="3-2、拉取镜像（pull）"><a href="#3-2、拉取镜像（pull）" class="headerlink" title="3.2、拉取镜像（pull）"></a>3.2、拉取镜像（pull）</h2><blockquote>
<p>拉取服务依赖的镜像。</p>
</blockquote>
<h4 id="A、命令："><a href="#A、命令：" class="headerlink" title="A、命令："></a>A、命令：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#格式：</span></span><br><span class="line">docker-compose pull [options] [SERVICE...]</span><br><span class="line"><span class="comment"># 拉取服务依赖的镜像</span></span><br><span class="line">docker-compose pull</span><br></pre></td></tr></table></figure>

<h4 id="B、选项包括："><a href="#B、选项包括：" class="headerlink" title="B、选项包括："></a>B、选项包括：</h4><ul>
<li>–ignore-pull-failures，忽略拉取镜像过程中的错误</li>
<li>–parallel，多个镜像同时拉取</li>
<li>–quiet，拉取镜像过程中不打印进度信息</li>
</ul>
<h2 id="3-3、构建容器（build）"><a href="#3-3、构建容器（build）" class="headerlink" title="3.3、构建容器（build）"></a>3.3、构建容器（build）</h2><blockquote>
<p>构建（重新构建）项目中的服务容器</p>
</blockquote>
<h4 id="A、命令：-1"><a href="#A、命令：-1" class="headerlink" title="A、命令："></a>A、命令：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#格式：</span></span><br><span class="line">docker-compose build [options] [--build-arg key=val...] [SERVICE...]</span><br><span class="line"></span><br><span class="line"><span class="comment">#构建（重新构建）项目中的服务容器。</span></span><br><span class="line">docker-compose build</span><br></pre></td></tr></table></figure>

<h4 id="B、选项包括：-1"><a href="#B、选项包括：-1" class="headerlink" title="B、选项包括："></a>B、选项包括：</h4><ul>
<li>–compress 通过gzip压缩构建上下环境</li>
<li>–force-rm 删除构建过程中的临时容器</li>
<li>–no-cache 构建镜像过程中不使用缓存</li>
<li>–pull 始终尝试通过拉取操作来获取更新版本的镜像</li>
<li>-m, –memory MEM为构建的容器设置内存大小</li>
<li>–build-arg key&#x3D;val为服务设置build-time变量服务容器一旦构建后，将会带上一个标记名。可以随时在项目目录下运行docker-compose<br>build来重新构建服务</li>
</ul>
<h2 id="3-4、创建容器（create）"><a href="#3-4、创建容器（create）" class="headerlink" title="3.4、创建容器（create）"></a>3.4、创建容器（create）</h2><blockquote>
<p>为服务创建容器。</p>
</blockquote>
<h4 id="A、命令：-2"><a href="#A、命令：-2" class="headerlink" title="A、命令："></a>A、命令：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#格式：</span></span><br><span class="line">docker-compose create [options] [SERVICE...]</span><br></pre></td></tr></table></figure>

<h4 id="B、选项包括：-2"><a href="#B、选项包括：-2" class="headerlink" title="B、选项包括："></a>B、选项包括：</h4><ul>
<li>–force-recreate：重新创建容器，即使配置和镜像没有改变，不兼容</li>
<li>–no-recreate参数–no-recreate：如果容器已经存在，不需要重新创建，不兼容–force-recreate参数</li>
<li>–no-build：不创建镜像，即使缺失–build：创建容器前，生成镜像</li>
</ul>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="3-2、运行服务（up）"><a href="#3-2、运行服务（up）" class="headerlink" title="3.2、运行服务（up）"></a>3.2、运行服务（up）</h2><h4 id="A、命令：-3"><a href="#A、命令：-3" class="headerlink" title="A、命令："></a>A、命令：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#格式</span></span><br><span class="line">docker-compose up [options] [--scale SERVICE=NUM...] [SERVICE...]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#启动所有服务</span></span><br><span class="line">docker-compose up</span><br><span class="line"><span class="comment">#启动所有服务，后台运行</span></span><br><span class="line">docker-compose up -d</span><br><span class="line"><span class="comment">#指定使用的Compose模板文件后台运行，默认为docker-compose.yml，可以多次指定。</span></span><br><span class="line">docker-compose -f docker-compose.yml up -d</span><br></pre></td></tr></table></figure>

<h4 id="B、选项包括：-3"><a href="#B、选项包括：-3" class="headerlink" title="B、选项包括："></a>B、选项包括：</h4><ul>
<li>-d： 在后台运行服务容器</li>
<li>–no-color： 不使用颜色来区分不同的服务的控制输出</li>
<li>–no-deps： 不启动服务所链接的容器</li>
<li>–force-recreate： 强制重新创建容器，不能与–no-recreate同时使用</li>
<li>–no-recreate： 如果容器已经存在，则不重新创建，不能与–force-recreate同时使用</li>
<li>–no-build： 不自动构建缺失的服务镜像</li>
<li>–build： 在启动容器前构建服务镜像</li>
<li>–abort-on-container-exit： 停止所有容器，如果任何一个容器被停止，不能与-d同时使用</li>
<li>-t, –timeout TIMEOUT： 停止容器时候的超时（默认为10秒）</li>
<li>–remove-orphans： 删除服务中没有在compose文件中定义的容器</li>
<li>–scale SERVICE&#x3D;NUM： 设置服务运行容器的个数，将覆盖在compose中通过scale指定的参数</li>
</ul>
<h2 id="3-3、列出容器列表（ps）"><a href="#3-3、列出容器列表（ps）" class="headerlink" title="3.3、列出容器列表（ps）"></a>3.3、列出容器列表（ps）</h2><h4 id="A、命令：-4"><a href="#A、命令：-4" class="headerlink" title="A、命令："></a>A、命令：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#格式：</span></span><br><span class="line">docker-compose ps [options] [SERVICE...]</span><br><span class="line"></span><br><span class="line"><span class="comment">#列出所有容器列表</span></span><br><span class="line">docker-compose ps</span><br></pre></td></tr></table></figure>

<h2 id="3-4、启动容器（start）"><a href="#3-4、启动容器（start）" class="headerlink" title="3.4、启动容器（start）"></a>3.4、启动容器（start）</h2><blockquote>
<h2 id="启动已经存在的服务容器"><a href="#启动已经存在的服务容器" class="headerlink" title="启动已经存在的服务容器"></a>启动已经存在的服务容器</h2></blockquote>
<h4 id="A、命令：-5"><a href="#A、命令：-5" class="headerlink" title="A、命令："></a>A、命令：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#格式：</span></span><br><span class="line">docker-compose start [SERVICE...]</span><br><span class="line"><span class="comment"># 启动已经存在的服务容器。</span></span><br><span class="line">docker-compose start</span><br></pre></td></tr></table></figure>

<h2 id="3-5、重启服务（restart）"><a href="#3-5、重启服务（restart）" class="headerlink" title="3.5、重启服务（restart）"></a>3.5、重启服务（restart）</h2><blockquote>
<p>重启项目中的服务</p>
</blockquote>
<h4 id="A、命令：-6"><a href="#A、命令：-6" class="headerlink" title="A、命令："></a>A、命令：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#格式：</span></span><br><span class="line">docker-compose restart [options] [SERVICE...]</span><br><span class="line"><span class="comment"># 重启项目中的服务</span></span><br><span class="line">docker-compose restart</span><br></pre></td></tr></table></figure>

<h4 id="B、选项包括：-4"><a href="#B、选项包括：-4" class="headerlink" title="B、选项包括："></a>B、选项包括：</h4><ul>
<li>-t, –timeout TIMEOUT，指定重启前停止容器的超时（默认为10秒）</li>
</ul>
<h2 id="3-6、停止容器（stop）"><a href="#3-6、停止容器（stop）" class="headerlink" title="3.6、停止容器（stop）"></a>3.6、停止容器（stop）</h2><h4 id="A、命令：-7"><a href="#A、命令：-7" class="headerlink" title="A、命令："></a>A、命令：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#格式</span></span><br><span class="line">docker-compose stop [options] [SERVICE...]</span><br><span class="line"></span><br><span class="line"><span class="comment">#停止正在运行的容器，可以通过docker-compose start 再次启动</span></span><br><span class="line">docker-compose stop</span><br></pre></td></tr></table></figure>

<h4 id="B、选项包括：-5"><a href="#B、选项包括：-5" class="headerlink" title="B、选项包括："></a>B、选项包括：</h4><ul>
<li>-t, –timeout TIMEOUT 停止容器时候的超时（默认为10秒）</li>
</ul>
<h2 id="3-7、删除停止容器（rm）"><a href="#3-7、删除停止容器（rm）" class="headerlink" title="3.7、删除停止容器（rm）"></a>3.7、删除停止容器（rm）</h2><blockquote>
<p>删除所有（停止状态的）服务容器。</p>
</blockquote>
<h4 id="A、命令"><a href="#A、命令" class="headerlink" title="A、命令"></a>A、命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#格式：</span></span><br><span class="line">docker-compose <span class="built_in">rm</span> [options] [SERVICE...]</span><br><span class="line"><span class="comment"># 删除所有（停止状态的）服务容器。推荐先执行docker-compose stop命令来停止容器。</span></span><br><span class="line">docker-compose <span class="built_in">rm</span></span><br></pre></td></tr></table></figure>

<h4 id="B、选项包括：-6"><a href="#B、选项包括：-6" class="headerlink" title="B、选项包括："></a>B、选项包括：</h4><ul>
<li>–f, –force，强制直接删除，包括非停止状态的容器</li>
<li>-v，删除容器所挂载的数据卷</li>
</ul>
<h2 id="3-8、停止和删除容器（down）"><a href="#3-8、停止和删除容器（down）" class="headerlink" title="3.8、停止和删除容器（down）"></a>3.8、停止和删除容器（down）</h2><blockquote>
<p>停止并删除容器、网络、映像和卷</p>
</blockquote>
<h4 id="A、命令：-8"><a href="#A、命令：-8" class="headerlink" title="A、命令："></a>A、命令：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#格式</span></span><br><span class="line">docker-compose down [options]</span><br><span class="line"></span><br><span class="line"><span class="comment">#停止和删除容器、网络、卷、镜像。</span></span><br><span class="line">docker-compose down</span><br></pre></td></tr></table></figure>

<h4 id="B、选项包括：-7"><a href="#B、选项包括：-7" class="headerlink" title="B、选项包括："></a>B、选项包括：</h4><ul>
<li>–rmi type：删除镜像，类型必须是：<ul>
<li>all：删除compose文件中定义的所有镜像；</li>
<li>local：删除镜像名为空的镜像</li>
</ul>
</li>
<li>-v, –volumes：删除已经在compose文件中定义的和匿名的附在容器上的数据卷</li>
<li>–remove-orphans：删除服务中没有在compose中定义的容器<code>docker-compose down</code>停用移除所有容器以及网络相关</li>
<li>-t, –timeout: 指定关闭超时，以秒为单位。（默认值： 10）</li>
</ul>
<h2 id="3-9、查看日志（logs）"><a href="#3-9、查看日志（logs）" class="headerlink" title="3.9、查看日志（logs）"></a>3.9、查看日志（logs）</h2><blockquote>
<p>查看服务容器的输出。默认情况下，docker-compose将对不同的服务输出使用不同的颜色来区分。可以通过–no-color来关闭颜色。</p>
</blockquote>
<p>A、命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#格式</span></span><br><span class="line">docker-compose logs [options] [SERVICE...]</span><br><span class="line"></span><br><span class="line"><span class="comment">#查看服务容器的输出</span></span><br><span class="line">docker-compose logs</span><br></pre></td></tr></table></figure>

<h2 id="3-10、docker-compose-run"><a href="#3-10、docker-compose-run" class="headerlink" title="3.10、docker-compose run"></a>3.10、docker-compose run</h2><blockquote>
<p>在指定服务上执行一个命令。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker-compose run [options] [-v VOLUME...] [-p PORT...] [-e KEY=VAL...] SERVICE [COMMAND] [ARGS...]</span><br><span class="line"><span class="comment"># 在指定容器上执行一个ping命令。</span></span><br><span class="line">docker-compose run ubuntu ping www.baidu.com</span><br></pre></td></tr></table></figure>

<h2 id="3-11、docker-compose-scale"><a href="#3-11、docker-compose-scale" class="headerlink" title="3.11、docker-compose scale"></a>3.11、docker-compose scale</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#设置指定服务运行的容器个数。通过service=num的参数来设置数量</span></span><br><span class="line">docker-compose scale web=3 db=2</span><br></pre></td></tr></table></figure>

<h2 id="3-12、docker-compose-pause"><a href="#3-12、docker-compose-pause" class="headerlink" title="3.12、docker-compose pause"></a>3.12、docker-compose pause</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#暂停一个服务容器</span></span><br><span class="line">docker-compose pause [SERVICE...]</span><br></pre></td></tr></table></figure>

<h2 id="3-13、docker-compose-kill"><a href="#3-13、docker-compose-kill" class="headerlink" title="3.13、docker-compose kill"></a>3.13、docker-compose kill</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker-compose <span class="built_in">kill</span> [options] [SERVICE...]</span><br><span class="line"></span><br><span class="line"><span class="comment">#通过发送SIGKILL信号来强制停止服务容器。 </span></span><br><span class="line"><span class="comment">#支持通过-s参数来指定发送的信号，例如通过如下指令发送SIGINT信号：</span></span><br><span class="line">docker-compose <span class="built_in">kill</span> -s SIGINT</span><br></pre></td></tr></table></figure>

<h2 id="3-14、dokcer-compose-config"><a href="#3-14、dokcer-compose-config" class="headerlink" title="3.14、dokcer-compose config"></a>3.14、dokcer-compose config</h2><blockquote>
<p>验证并查看compose文件配置</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose config [options]</span><br></pre></td></tr></table></figure>

<p>选项包括：</p>
<ul>
<li>–resolve-image-digests 将镜像标签标记为摘要</li>
<li>-q, –quiet 只验证配置，不输出。 当配置正确时，不输出任何内容，当文件配置错误，输出错误信息</li>
<li>–services 打印服务名，一行一个–volumes 打印数据卷名，一行一个</li>
</ul>
<h3 id="-1"><a href="#-1" class="headerlink" title=""></a></h3><h2 id="3-15、docker-compose-exec"><a href="#3-15、docker-compose-exec" class="headerlink" title="3.15、docker-compose exec"></a>3.15、docker-compose exec</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose <span class="built_in">exec</span> [options] SERVICE COMMAND [ARGS...]</span><br></pre></td></tr></table></figure>

<p>选项包括：</p>
<ul>
<li>-d 分离模式，后台运行命令。</li>
<li>–privileged 获取特权。</li>
<li>–user USER 指定运行的用户。</li>
<li>-T 禁用分配TTY，默认docker-compose exec分配TTY。</li>
<li>–index&#x3D;index，当一个服务拥有多个容器时，可通过该参数登陆到该服务下的任何服务，例如：docker-compose exec –index&#x3D;1 web<br>&#x2F;bin&#x2F;bash ，web服务中包含多个容器</li>
</ul>
<h2 id="3-16、docker-compose-port"><a href="#3-16、docker-compose-port" class="headerlink" title="3.16、docker-compose port"></a>3.16、docker-compose port</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#显示某个容器端口所映射的公共端口。</span></span><br><span class="line">docker-compose port [options] SERVICE PRIVATE_PORT</span><br></pre></td></tr></table></figure>

<p>选项包括：</p>
<ul>
<li>–protocol&#x3D;proto，指定端口协议，TCP（默认值）或者UDP–index&#x3D;index，如果同意服务存在多个容器，指定命令对象容器的序号（默认为1）</li>
</ul>
<h2 id="3-17、docker-compose-push"><a href="#3-17、docker-compose-push" class="headerlink" title="3.17、docker-compose push"></a>3.17、docker-compose push</h2><blockquote>
<p>推送服务依的镜像。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose push [options] [SERVICE...]</span><br></pre></td></tr></table></figure>

<p>选项包括：</p>
<ul>
<li>–ignore-push-failures 忽略推送镜像过程中的错误</li>
</ul>
<h2 id="3-18、docker-compose-unpause"><a href="#3-18、docker-compose-unpause" class="headerlink" title="3.18、docker-compose unpause"></a>3.18、docker-compose unpause</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#恢复处于暂停状态中的服务。</span></span><br><span class="line">docker-compose unpause [SERVICE...]</span><br></pre></td></tr></table></figure>

<h2 id="3-19、查看帮助"><a href="#3-19、查看帮助" class="headerlink" title="3.19、查看帮助"></a>3.19、查看帮助</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看帮助</span></span><br><span class="line">docker-compose <span class="built_in">help</span></span><br><span class="line"></span><br><span class="line">docker-compose -h</span><br></pre></td></tr></table></figure>

<h2 id="3-20、查看版本号"><a href="#3-20、查看版本号" class="headerlink" title="3.20、查看版本号"></a>3.20、查看版本号</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#打印版本信息。</span></span><br><span class="line">docker-compose version</span><br><span class="line"></span><br><span class="line">docker-compose -v</span><br></pre></td></tr></table></figure>

<h2 id="3-21、查看正在运行的进程"><a href="#3-21、查看正在运行的进程" class="headerlink" title="3.21、查看正在运行的进程"></a>3.21、查看正在运行的进程</h2><p>显示正在运行的进程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose top</span><br></pre></td></tr></table></figure>

<h2 id="三、Docker-Compose模板文件"><a href="#三、Docker-Compose模板文件" class="headerlink" title="三、Docker-Compose模板文件"></a>三、Docker-Compose模板文件</h2><h3 id="1、Docker-Compose模板文件简介"><a href="#1、Docker-Compose模板文件简介" class="headerlink" title="1、Docker-Compose模板文件简介"></a>1、Docker-Compose模板文件简介</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">Compose和Docker兼容性：</span></span><br><span class="line">  <span class="string">Compose</span> <span class="string">文件格式有3个版本,分别为1,</span> <span class="number">2.</span><span class="string">x</span> <span class="string">和</span> <span class="number">3.</span><span class="string">x</span></span><br><span class="line">  <span class="string">目前主流的为</span> <span class="number">3.</span><span class="string">x</span> <span class="string">其支持</span> <span class="string">docker</span> <span class="number">1.13</span><span class="number">.0</span> <span class="string">及其以上的版本</span></span><br><span class="line">  <span class="string">常用参数：</span></span><br><span class="line">  <span class="string">version</span>           <span class="comment"># 指定 compose 文件的版本</span></span><br><span class="line">  <span class="string">services</span>          <span class="comment"># 定义所有的 service 信息, services 下面的第一级别的 key 既是一个 service 的名称</span></span><br><span class="line">  <span class="string">build</span>                 <span class="comment"># 指定包含构建上下文的路径, 或作为一个对象，该对象具有 context 和指定的 dockerfile 文件以及 args 参数值</span></span><br><span class="line">  <span class="string">context</span>               <span class="comment"># context: 指定 Dockerfile 文件所在的路径</span></span><br><span class="line">  <span class="string">dockerfile</span>            <span class="comment"># dockerfile: 指定 context 指定的目录下面的 Dockerfile 的名称(默认为 Dockerfile)</span></span><br><span class="line">  <span class="string">args</span>                  <span class="comment"># args: Dockerfile 在 build 过程中需要的参数 (等同于 docker container build --build-arg 的作用)</span></span><br><span class="line">  <span class="string">cache_from</span>            <span class="comment"># v3.2中新增的参数, 指定缓存的镜像列表 (等同于 docker container build --cache_from 的作用)</span></span><br><span class="line">  <span class="string">labels</span>                <span class="comment"># v3.3中新增的参数, 设置镜像的元数据 (等同于 docker container build --labels 的作用)</span></span><br><span class="line">  <span class="string">shm_size</span>              <span class="comment"># v3.5中新增的参数, 设置容器 /dev/shm 分区的大小 (等同于 docker container build --shm-size 的作用)</span></span><br><span class="line">  <span class="string">command</span>               <span class="comment"># 覆盖容器启动后默认执行的命令, 支持 shell 格式和 [] 格式</span></span><br><span class="line">  <span class="string">configs</span>               <span class="comment"># 不知道怎么用</span></span><br><span class="line">  <span class="string">cgroup_parent</span>         <span class="comment"># 不知道怎么用</span></span><br><span class="line">  <span class="string">container_name</span>        <span class="comment"># 指定容器的名称 (等同于 docker run --name 的作用)</span></span><br><span class="line">  <span class="string">credential_spec</span>       <span class="comment"># 不知道怎么用</span></span><br><span class="line">  <span class="string">deploy</span>                <span class="comment"># v3 版本以上, 指定与部署和运行服务相关的配置, deploy 部分是 docker stack 使用的, docker stack 依赖 docker swarm</span></span><br><span class="line">  <span class="string">endpoint_mode</span>         <span class="comment"># v3.3 版本中新增的功能, 指定服务暴露的方式</span></span><br><span class="line">  <span class="string">vip</span>                   <span class="comment"># Docker 为该服务分配了一个虚拟 IP(VIP), 作为客户端的访问服务的地址</span></span><br><span class="line">  <span class="string">dnsrr</span>                 <span class="comment"># DNS轮询, Docker 为该服务设置 DNS 条目, 使得服务名称的 DNS 查询返回一个 IP 地址列表, 客户端直接访问其中的一个地址</span></span><br><span class="line">  <span class="string">labels</span>                <span class="comment"># 指定服务的标签，这些标签仅在服务上设置</span></span><br><span class="line">  <span class="string">mode</span>                  <span class="comment"># 指定 deploy 的模式</span></span><br><span class="line">  <span class="string">global</span>                <span class="comment"># 每个集群节点都只有一个容器</span></span><br><span class="line">  <span class="string">replicated</span>            <span class="comment"># 用户可以指定集群中容器的数量(默认)</span></span><br><span class="line">  <span class="string">placement</span>             <span class="comment"># 不知道怎么用</span></span><br><span class="line">  <span class="string">replicas</span>              <span class="comment"># deploy 的 mode 为 replicated 时, 指定容器副本的数量</span></span><br><span class="line">  <span class="string">resources</span>             <span class="comment"># 资源限制</span></span><br><span class="line">  <span class="string">limits</span>                <span class="comment"># 设置容器的资源限制</span></span><br><span class="line"><span class="attr">cpus:</span> <span class="string">&quot;0.5&quot;</span>           <span class="comment"># 设置该容器最多只能使用 50% 的 CPU </span></span><br><span class="line"><span class="attr">memory:</span> <span class="string">50M</span>           <span class="comment"># 设置该容器最多只能使用 50M 的内存空间 </span></span><br><span class="line">  <span class="string">reservations</span>          <span class="comment"># 设置为容器预留的系统资源(随时可用)</span></span><br><span class="line"><span class="attr">cpus:</span> <span class="string">&quot;0.2&quot;</span>           <span class="comment"># 为该容器保留 20% 的 CPU</span></span><br><span class="line"><span class="attr">memory:</span> <span class="string">20M</span>           <span class="comment"># 为该容器保留 20M 的内存空间</span></span><br><span class="line">  <span class="string">restart_policy</span>        <span class="comment"># 定义容器重启策略, 用于代替 restart 参数</span></span><br><span class="line">  <span class="string">condition</span>             <span class="comment"># 定义容器重启策略(接受三个参数)</span></span><br><span class="line">  <span class="string">none</span>                  <span class="comment"># 不尝试重启</span></span><br><span class="line">  <span class="string">on-failure</span>            <span class="comment"># 只有当容器内部应用程序出现问题才会重启</span></span><br><span class="line">  <span class="string">any</span>                   <span class="comment"># 无论如何都会尝试重启(默认)</span></span><br><span class="line">  <span class="string">delay</span>                 <span class="comment"># 尝试重启的间隔时间(默认为 0s)</span></span><br><span class="line">  <span class="string">max_attempts</span>          <span class="comment"># 尝试重启次数(默认一直尝试重启)</span></span><br><span class="line">  <span class="string">window</span>                <span class="comment"># 检查重启是否成功之前的等待时间(即如果容器启动了, 隔多少秒之后去检测容器是否正常, 默认 0s)</span></span><br><span class="line">  <span class="string">update_config</span>         <span class="comment"># 用于配置滚动更新配置</span></span><br><span class="line">  <span class="string">parallelism</span>           <span class="comment"># 一次性更新的容器数量</span></span><br><span class="line">  <span class="string">delay</span>                 <span class="comment"># 更新一组容器之间的间隔时间</span></span><br><span class="line">  <span class="string">failure_action</span>        <span class="comment"># 定义更新失败的策略</span></span><br><span class="line">  <span class="string">continue</span>              <span class="comment"># 继续更新</span></span><br><span class="line">  <span class="string">rollback</span>              <span class="comment"># 回滚更新</span></span><br><span class="line">  <span class="string">pause</span>                 <span class="comment"># 暂停更新(默认)</span></span><br><span class="line">  <span class="string">monitor</span>               <span class="comment"># 每次更新后的持续时间以监视更新是否失败(单位: ns|us|ms|s|m|h) (默认为0)</span></span><br><span class="line">  <span class="string">max_failure_ratio</span>     <span class="comment"># 回滚期间容忍的失败率(默认值为0)</span></span><br><span class="line">  <span class="string">order</span>                 <span class="comment"># v3.4 版本中新增的参数, 回滚期间的操作顺序</span></span><br><span class="line">  <span class="string">stop-first</span>            <span class="comment">#旧任务在启动新任务之前停止(默认)</span></span><br><span class="line">  <span class="string">start-first</span>           <span class="comment">#首先启动新任务, 并且正在运行的任务暂时重叠</span></span><br><span class="line">  <span class="string">rollback_config</span>       <span class="comment"># v3.7 版本中新增的参数, 用于定义在 update_config 更新失败的回滚策略</span></span><br><span class="line">  <span class="string">parallelism</span>           <span class="comment"># 一次回滚的容器数, 如果设置为0, 则所有容器同时回滚</span></span><br><span class="line">  <span class="string">delay</span>                 <span class="comment"># 每个组回滚之间的时间间隔(默认为0)</span></span><br><span class="line">  <span class="string">failure_action</span>        <span class="comment"># 定义回滚失败的策略</span></span><br><span class="line">  <span class="string">continue</span>              <span class="comment"># 继续回滚</span></span><br><span class="line">  <span class="string">pause</span>                 <span class="comment"># 暂停回滚</span></span><br><span class="line">  <span class="string">monitor</span>               <span class="comment"># 每次回滚任务后的持续时间以监视失败(单位: ns|us|ms|s|m|h) (默认为0)</span></span><br><span class="line">  <span class="string">max_failure_ratio</span>     <span class="comment"># 回滚期间容忍的失败率(默认值0)</span></span><br><span class="line">  <span class="string">order</span>                 <span class="comment"># 回滚期间的操作顺序</span></span><br><span class="line">  <span class="string">stop-first</span>            <span class="comment"># 旧任务在启动新任务之前停止(默认)</span></span><br><span class="line">  <span class="string">start-first</span>           <span class="comment"># 首先启动新任务, 并且正在运行的任务暂时重叠</span></span><br><span class="line">  <span class="string">注意：</span></span><br><span class="line">  <span class="string">支持</span> <span class="string">docker-compose</span> <span class="string">up</span> <span class="string">和</span> <span class="string">docker-compose</span> <span class="string">run</span> <span class="string">但不支持</span> <span class="string">docker</span> <span class="string">stack</span> <span class="string">deploy</span> <span class="string">的子选项</span></span><br><span class="line">  <span class="string">security_opt</span>  <span class="string">container_name</span>  <span class="string">devices</span>  <span class="string">tmpfs</span>  <span class="string">stop_signal</span>  <span class="string">links</span>    <span class="string">cgroup_parent</span></span><br><span class="line">  <span class="string">network_mode</span>  <span class="string">external_links</span>  <span class="string">restart</span>  <span class="string">build</span>  <span class="string">userns_mode</span>  <span class="string">sysctls</span></span><br><span class="line">  <span class="string">devices</span>               <span class="comment"># 指定设备映射列表 (等同于 docker run --device 的作用)</span></span><br><span class="line">  <span class="string">depends_on</span>            <span class="comment"># 定义容器启动顺序 (此选项解决了容器之间的依赖关系， 此选项在 v3 版本中 使用 swarm 部署时将忽略该选项)</span></span><br><span class="line">  <span class="string">示例：</span></span><br><span class="line">  <span class="string">docker-compose</span> <span class="string">up</span> <span class="string">以依赖顺序启动服务，下面例子中</span> <span class="string">redis</span> <span class="string">和</span> <span class="string">db</span> <span class="string">服务在</span> <span class="string">web</span> <span class="string">启动前启动</span></span><br><span class="line">  <span class="string">默认情况下使用</span> <span class="string">docker-compose</span> <span class="string">up</span> <span class="string">web</span> <span class="string">这样的方式启动</span> <span class="string">web</span> <span class="string">服务时，也会启动</span> <span class="string">redis</span> <span class="string">和</span> <span class="string">db</span> <span class="string">两个服务，因为在配置文件中定义了依赖关系</span></span><br><span class="line"></span><br><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">web:</span></span><br><span class="line">    <span class="attr">build:</span> <span class="string">.</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">db</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">redis</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">redis</span></span><br><span class="line">  <span class="attr">db:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">postgres</span></span><br><span class="line"></span><br><span class="line">  <span class="string">dns</span>                   <span class="comment"># 设置 DNS 地址(等同于 docker run --dns 的作用)</span></span><br><span class="line"></span><br><span class="line">  <span class="string">dns_search</span>            <span class="comment"># 设置 DNS 搜索域(等同于 docker run --dns-search 的作用)</span></span><br><span class="line"></span><br><span class="line">  <span class="string">tmpfs</span>                 <span class="comment"># v2 版本以上, 挂载目录到容器中, 作为容器的临时文件系统(等同于 docker run --tmpfs 的作用, 在使用 swarm 部署时将忽略该选项)</span></span><br><span class="line"></span><br><span class="line">  <span class="string">entrypoint</span>            <span class="comment"># 覆盖容器的默认 entrypoint 指令 (等同于 docker run --entrypoint 的作用)</span></span><br><span class="line"></span><br><span class="line">  <span class="string">env_file</span>              <span class="comment"># 从指定文件中读取变量设置为容器中的环境变量, 可以是单个值或者一个文件列表, 如果多个文件中的变量重名则后面的变量覆盖前面的变量, environment 的值覆盖 env_file 的值</span></span><br><span class="line">  <span class="string">文件格式：</span></span><br><span class="line">  <span class="string">RACK_ENV=development</span></span><br><span class="line"></span><br><span class="line">  <span class="string">environment</span>           <span class="comment"># 设置环境变量， environment 的值可以覆盖 env_file 的值 (等同于 docker run --env 的作用)</span></span><br><span class="line">  <span class="string">expose</span>                <span class="comment"># 暴露端口, 但是不能和宿主机建立映射关系, 类似于 Dockerfile 的 EXPOSE 指令</span></span><br><span class="line">  <span class="string">external_links</span>        <span class="comment"># 连接不在 docker-compose.yml 中定义的容器或者不在 compose 管理的容器(docker run 启动的容器, 在 v3 版本中使用 swarm 部署时将忽略该选项)</span></span><br><span class="line">  <span class="string">extra_hosts</span>           <span class="comment"># 添加 host 记录到容器中的 /etc/hosts 中 (等同于 docker run --add-host 的作用)</span></span><br><span class="line">  <span class="string">healthcheck</span>           <span class="comment"># v2.1 以上版本, 定义容器健康状态检查, 类似于 Dockerfile 的 HEALTHCHECK 指令</span></span><br><span class="line">  <span class="string">test</span>                  <span class="comment"># 检查容器检查状态的命令, 该选项必须是一个字符串或者列表, 第一项必须是 NONE, CMD 或 CMD-SHELL, 如果其是一个字符串则相当于 CMD-SHELL 加该字符串</span></span><br><span class="line">  <span class="string">NONE</span>                  <span class="comment"># 禁用容器的健康状态检测</span></span><br><span class="line">  <span class="string">CMD</span>                   <span class="comment"># test: [&quot;CMD&quot;, &quot;curl&quot;, &quot;-f&quot;, &quot;http://localhost&quot;]</span></span><br><span class="line">  <span class="string">CMD-SHELL</span>             <span class="comment"># test: [&quot;CMD-SHELL&quot;, &quot;curl -f http://localhost || exit 1&quot;] 或者　test: curl -f https://localhost || exit 1</span></span><br><span class="line"><span class="attr">interval:</span> <span class="string">1m30s</span>       <span class="comment"># 每次检查之间的间隔时间</span></span><br><span class="line"><span class="attr">timeout:</span> <span class="string">10s</span>          <span class="comment"># 运行命令的超时时间</span></span><br><span class="line"><span class="attr">retries:</span> <span class="number">3</span>            <span class="comment"># 重试次数</span></span><br><span class="line"><span class="attr">start_period:</span> <span class="string">40s</span>     <span class="comment"># v3.4 以上新增的选项, 定义容器启动时间间隔</span></span><br><span class="line"><span class="attr">disable:</span> <span class="literal">true</span>         <span class="comment"># true 或 false, 表示是否禁用健康状态检测和　test: NONE 相同</span></span><br><span class="line">  <span class="string">image</span>                 <span class="comment"># 指定 docker 镜像, 可以是远程仓库镜像、本地镜像</span></span><br><span class="line">  <span class="string">init</span>                  <span class="comment"># v3.7 中新增的参数, true 或 false 表示是否在容器中运行一个 init, 它接收信号并传递给进程</span></span><br><span class="line">  <span class="string">isolation</span>             <span class="comment"># 隔离容器技术, 在 Linux 中仅支持 default 值</span></span><br><span class="line">  <span class="string">labels</span>                <span class="comment"># 使用 Docker 标签将元数据添加到容器, 与 Dockerfile 中的 LABELS 类似</span></span><br><span class="line">  <span class="string">links</span>                 <span class="comment"># 链接到其它服务中的容器, 该选项是 docker 历史遗留的选项, 目前已被用户自定义网络名称空间取代, 最终有可能被废弃 (在使用 swarm 部署时将忽略该选项)</span></span><br><span class="line">  <span class="string">logging</span>               <span class="comment"># 设置容器日志服务</span></span><br><span class="line">  <span class="string">driver</span>                <span class="comment"># 指定日志记录驱动程序, 默认 json-file (等同于 docker run --log-driver 的作用)</span></span><br><span class="line">  <span class="string">options</span>               <span class="comment"># 指定日志的相关参数 (等同于 docker run --log-opt 的作用)</span></span><br><span class="line">  <span class="string">max-size</span>              <span class="comment"># 设置单个日志文件的大小, 当到达这个值后会进行日志滚动操作</span></span><br><span class="line">  <span class="string">max-file</span>              <span class="comment"># 日志文件保留的数量</span></span><br><span class="line"></span><br><span class="line">  <span class="string">network_mode</span>          <span class="comment"># 指定网络模式 (等同于 docker run --net 的作用, 在使用 swarm 部署时将忽略该选项)         </span></span><br><span class="line">  <span class="string">networks</span>              <span class="comment"># 将容器加入指定网络 (等同于 docker network connect 的作用), networks 可以位于 compose 文件顶级键和 services 键的二级键</span></span><br><span class="line">  <span class="string">aliases</span>               <span class="comment"># 同一网络上的容器可以使用服务名称或别名连接到其中一个服务的容器</span></span><br><span class="line">  <span class="string">ipv4_address</span>      <span class="comment"># IP V4 格式</span></span><br><span class="line">  <span class="string">ipv6_address</span>      <span class="comment"># IP V6 格式</span></span><br><span class="line"></span><br><span class="line"><span class="string">示例:</span></span><br><span class="line">  <span class="attr">version:</span> <span class="string">&#x27;3.7&#x27;</span></span><br><span class="line">  <span class="attr">services:</span></span><br><span class="line">    <span class="attr">test:</span></span><br><span class="line">      <span class="attr">image:</span> <span class="string">nginx:1.14-alpine</span></span><br><span class="line">      <span class="attr">container_name:</span> <span class="string">mynginx</span></span><br><span class="line">      <span class="attr">command:</span> <span class="string">ifconfig</span></span><br><span class="line">      <span class="attr">networks:</span></span><br><span class="line">        <span class="attr">app_net:</span>                                <span class="comment"># 调用下面 networks 定义的 app_net 网络</span></span><br><span class="line">        <span class="attr">ipv4_address:</span> <span class="number">172.16</span><span class="number">.238</span><span class="number">.10</span></span><br><span class="line">  <span class="attr">networks:</span></span><br><span class="line">    <span class="attr">app_net:</span></span><br><span class="line">      <span class="attr">driver:</span> <span class="string">bridge</span></span><br><span class="line">      <span class="attr">ipam:</span></span><br><span class="line">        <span class="attr">driver:</span> <span class="string">default</span></span><br><span class="line">        <span class="attr">config:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">subnet:</span> <span class="number">172.16</span><span class="number">.238</span><span class="number">.0</span><span class="string">/24</span></span><br><span class="line"></span><br><span class="line"><span class="attr">pid:</span> <span class="string">&#x27;host&#x27;</span>           <span class="comment"># 共享宿主机的 进程空间(PID)</span></span><br><span class="line">  <span class="string">ports</span>                 <span class="comment"># 建立宿主机和容器之间的端口映射关系, ports 支持两种语法格式</span></span><br><span class="line"><span class="string">SHORT</span> <span class="string">语法格式示例:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;3000&quot;</span>                            <span class="comment"># 暴露容器的 3000 端口, 宿主机的端口由 docker 随机映射一个没有被占用的端口</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;3000-3005&quot;</span>                       <span class="comment"># 暴露容器的 3000 到 3005 端口, 宿主机的端口由 docker 随机映射没有被占用的端口</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;8000:8000&quot;</span>                       <span class="comment"># 容器的 8000 端口和宿主机的 8000 端口建立映射关系</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;9090-9091:8080-8081&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;127.0.0.1:8001:8001&quot;</span>             <span class="comment"># 指定映射宿主机的指定地址的</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;127.0.0.1:5000-5010:5000-5010&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;6060:6060/udp&quot;</span>                   <span class="comment"># 指定协议</span></span><br><span class="line"></span><br><span class="line">  <span class="string">LONG</span> <span class="string">语法格式示例:(v3.2</span> <span class="string">新增的语法格式)</span></span><br><span class="line"><span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">target:</span> <span class="number">80</span>                    <span class="comment"># 容器端口</span></span><br><span class="line">      <span class="attr">published:</span> <span class="number">8080</span>               <span class="comment"># 宿主机端口</span></span><br><span class="line">      <span class="attr">protocol:</span> <span class="string">tcp</span>                 <span class="comment"># 协议类型</span></span><br><span class="line">      <span class="attr">mode:</span> <span class="string">host</span>                    <span class="comment"># host 在每个节点上发布主机端口,  ingress 对于群模式端口进行负载均衡</span></span><br><span class="line"></span><br><span class="line">  <span class="string">secrets</span>               <span class="comment"># 不知道怎么用</span></span><br><span class="line">  <span class="string">security_opt</span>          <span class="comment"># 为每个容器覆盖默认的标签 (在使用 swarm 部署时将忽略该选项)</span></span><br><span class="line">  <span class="string">stop_grace_period</span>     <span class="comment"># 指定在发送了 SIGTERM 信号之后, 容器等待多少秒之后退出(默认 10s)</span></span><br><span class="line">  <span class="string">stop_signal</span>           <span class="comment"># 指定停止容器发送的信号 (默认为 SIGTERM 相当于 kill PID; SIGKILL 相当于 kill -9 PID; 在使用 swarm 部署时将忽略该选项)</span></span><br><span class="line">  <span class="string">sysctls</span>               <span class="comment"># 设置容器中的内核参数 (在使用 swarm 部署时将忽略该选项)</span></span><br><span class="line">  <span class="string">ulimits</span>               <span class="comment"># 设置容器的 limit</span></span><br><span class="line">  <span class="string">userns_mode</span>           <span class="comment"># 如果Docker守护程序配置了用户名称空间, 则禁用此服务的用户名称空间 (在使用 swarm 部署时将忽略该选项)</span></span><br><span class="line">  <span class="string">volumes</span>               <span class="comment"># 定义容器和宿主机的卷映射关系, 其和 networks 一样可以位于 services 键的二级键和 compose 顶级键, 如果需要跨服务间使用则在顶级键定义, 在 services 中引用</span></span><br><span class="line"><span class="string">SHORT</span> <span class="string">语法格式示例:</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">/var/lib/mysql</span>                <span class="comment"># 映射容器内的 /var/lib/mysql 到宿主机的一个随机目录中</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">/opt/data:/var/lib/mysql</span>      <span class="comment"># 映射容器内的 /var/lib/mysql 到宿主机的 /opt/data</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">./cache:/tmp/cache</span>            <span class="comment"># 映射容器内的 /var/lib/mysql 到宿主机 compose 文件所在的位置</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">~/configs:/etc/configs/:ro</span>    <span class="comment"># 映射容器宿主机的目录到容器中去, 权限只读</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">datavolume:/var/lib/mysql</span>     <span class="comment"># datavolume 为 volumes 顶级键定义的目录, 在此处直接调用</span></span><br><span class="line"></span><br><span class="line">  <span class="string">LONG</span> <span class="string">语法格式示例:(v3.2</span> <span class="string">新增的语法格式)</span></span><br><span class="line"><span class="attr">version:</span> <span class="string">&quot;3.2&quot;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">web:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:alpine</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;80:80&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">volume</span>                  <span class="comment"># mount 的类型, 必须是 bind、volume 或 tmpfs</span></span><br><span class="line">          <span class="attr">source:</span> <span class="string">mydata</span>              <span class="comment"># 宿主机目录</span></span><br><span class="line">          <span class="attr">target:</span> <span class="string">/data</span>               <span class="comment"># 容器目录</span></span><br><span class="line">          <span class="attr">volume:</span> <span class="comment"># 配置额外的选项, 其 key 必须和 type 的值相同</span></span><br><span class="line">            <span class="attr">nocopy:</span> <span class="literal">true</span>                <span class="comment"># volume 额外的选项, 在创建卷时禁用从容器复制数据</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">bind</span>                    <span class="comment"># volume 模式只指定容器路径即可, 宿主机路径随机生成; bind 需要指定容器和数据机的映射路径</span></span><br><span class="line">          <span class="attr">source:</span> <span class="string">./static</span></span><br><span class="line">          <span class="attr">target:</span> <span class="string">/opt/app/static</span></span><br><span class="line">          <span class="attr">read_only:</span> <span class="literal">true</span>             <span class="comment"># 设置文件系统为只读文件系统</span></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">mydata:</span>                                 <span class="comment"># 定义在 volume, 可在所有服务中调用</span></span><br><span class="line">  <span class="string">restart</span>               <span class="comment"># 定义容器重启策略(在使用 swarm 部署时将忽略该选项, 在 swarm 使用 restart_policy 代替 restart)</span></span><br><span class="line">  <span class="literal">no</span>                    <span class="comment"># 禁止自动重启容器(默认)</span></span><br><span class="line">  <span class="string">always</span>                <span class="comment"># 无论如何容器都会重启</span></span><br><span class="line">  <span class="string">on-failure</span>            <span class="comment"># 当出现 on-failure 报错时, 容器重新启动</span></span><br><span class="line">  <span class="string">其他选项：</span></span><br><span class="line">  <span class="string">domainname,</span> <span class="string">hostname,</span> <span class="string">ipc,</span> <span class="string">mac_address,</span> <span class="string">privileged,</span> <span class="string">read_only,</span> <span class="string">shm_size,</span> <span class="string">stdin_open,</span> <span class="string">tty,</span> <span class="string">user,</span> <span class="string">working_dir</span></span><br><span class="line">  <span class="string">上面这些选项都只接受单个值和</span> <span class="string">docker</span> <span class="string">run</span> <span class="string">的对应参数类似</span></span><br><span class="line">  <span class="string">对于值为时间的可接受的值：</span></span><br><span class="line">  <span class="number">2.</span><span class="string">5s</span></span><br><span class="line">  <span class="string">10s</span></span><br><span class="line">  <span class="string">1m30s</span></span><br><span class="line">  <span class="string">2h32m</span></span><br><span class="line">  <span class="string">5h34m56s</span></span><br><span class="line"><span class="string">时间单位:</span> <span class="string">us,</span> <span class="string">ms,</span> <span class="string">s,</span> <span class="string">m，</span> <span class="string">h</span></span><br><span class="line">  <span class="string">对于值为大小的可接受的值：</span></span><br><span class="line">  <span class="string">2b</span></span><br><span class="line">  <span class="string">1024kb</span></span><br><span class="line">  <span class="string">2048k</span></span><br><span class="line">  <span class="string">300m</span></span><br><span class="line">  <span class="string">1gb</span></span><br><span class="line"><span class="string">单位:</span> <span class="string">b,</span> <span class="string">k,</span> <span class="string">m,</span> <span class="string">g</span> <span class="string">或者</span> <span class="string">kb,</span> <span class="string">mb,</span> <span class="string">gb</span></span><br><span class="line">  <span class="string">networks</span>          <span class="comment"># 定义 networks 信息</span></span><br><span class="line">  <span class="string">driver</span>                <span class="comment"># 指定网络模式, 大多数情况下, 它 bridge 于单个主机和 overlay Swarm 上</span></span><br><span class="line">  <span class="string">bridge</span>                <span class="comment"># Docker 默认使用 bridge 连接单个主机上的网络</span></span><br><span class="line">  <span class="string">overlay</span>               <span class="comment"># overlay 驱动程序创建一个跨多个节点命名的网络</span></span><br><span class="line">  <span class="string">host</span>                  <span class="comment"># 共享主机网络名称空间(等同于 docker run --net=host)</span></span><br><span class="line">  <span class="string">none</span>                  <span class="comment"># 等同于 docker run --net=none</span></span><br><span class="line">  <span class="string">driver_opts</span>           <span class="comment"># v3.2以上版本, 传递给驱动程序的参数, 这些参数取决于驱动程序</span></span><br><span class="line">  <span class="string">attachable</span>            <span class="comment"># driver 为 overlay 时使用, 如果设置为 true 则除了服务之外，独立容器也可以附加到该网络; 如果独立容器连接到该网络，则它可以与其他 Docker 守护进程连接到的该网络的服务和独立容器进行通信</span></span><br><span class="line">  <span class="string">ipam</span>                  <span class="comment"># 自定义 IPAM 配置. 这是一个具有多个属性的对象, 每个属性都是可选的</span></span><br><span class="line">  <span class="string">driver</span>                <span class="comment"># IPAM 驱动程序, bridge 或者 default</span></span><br><span class="line">  <span class="string">config</span>                <span class="comment"># 配置项</span></span><br><span class="line">  <span class="string">subnet</span>                <span class="comment"># CIDR格式的子网，表示该网络的网段</span></span><br><span class="line">  <span class="string">external</span>              <span class="comment"># 外部网络, 如果设置为 true 则 docker-compose up 不会尝试创建它, 如果它不存在则引发错误</span></span><br><span class="line">  <span class="string">name</span>                  <span class="comment"># v3.5 以上版本, 为此网络设置名称</span></span><br><span class="line">  <span class="string">文件格式示例：</span></span><br><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">redis:alpine</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;6379&quot;</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">frontend</span></span><br><span class="line">    <span class="attr">deploy:</span></span><br><span class="line">      <span class="attr">replicas:</span> <span class="number">2</span></span><br><span class="line">      <span class="attr">update_config:</span></span><br><span class="line">        <span class="attr">parallelism:</span> <span class="number">2</span></span><br><span class="line">        <span class="attr">delay:</span> <span class="string">10s</span></span><br><span class="line">      <span class="attr">restart_policy:</span></span><br><span class="line">        <span class="attr">condition:</span> <span class="string">on-failure</span></span><br><span class="line">  <span class="attr">db:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">postgres:9.4</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">db-data:/var/lib/postgresql/data</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">backend</span></span><br><span class="line">    <span class="attr">deploy:</span></span><br><span class="line">      <span class="attr">placement:</span></span><br><span class="line">        <span class="attr">constraints:</span> [ <span class="string">node.role</span> <span class="string">==</span> <span class="string">manager</span> ]</span><br></pre></td></tr></table></figure>

  
  


  </article>
  
<div class="related-wrap reveal" id="read-next"><section class="body"><div class="item" id="prev"><div class="note">回顾上一篇</div><a href="/wiki/docker/Docker%E6%97%A5%E5%BF%97%E6%B8%85%E7%90%86.html">Docker日志清理</a></div><div class="item" id="next"></div></section></div>

  




      
<footer class="page-footer reveal fs12"><hr><div class="text"><p>本站由 <a href="/">@aloneme</a> 使用 <a target="_blank" rel="noopener" href="https://github.com/xaoxuu/hexo-theme-stellar">Stellar</a> 主题创建。<br>本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议，转载请注明出处。</p>
</div></footer>

      <div class='float-panel mobile-only blur' style='display:none'>
  <button type='button' class='sidebar-toggle mobile' onclick='sidebar.toggle()'>
    <svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15301"><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 2.3 26.8 24.6 47.5 51.6 47.6h416.5v4z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15302"></path><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 1.9 27.7 23.9 49.7 51.6 51.6h416.5z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15303"></path></svg>
  </button>
</div>

    </div>
  </div>
  <div class='scripts'>
    <script type="text/javascript">
  const stellar = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // 从 butterfly 和 volantis 获得灵感
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      if (src.startsWith('/')){
        src = stellar.config.root + src.substring(1);
      }
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.version = '1.19.0';
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.19.0';
  stellar.config = {
    date_suffix: {
      just: '刚刚',
      min: '分钟前',
      hour: '小时前',
      day: '天前',
      month: '个月前',
    },
    root : '/',
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://gcore.jsdelivr.net/npm/jquery@3.6.2/dist/jquery.min.js'
  };

  if ('local_search') {
    stellar.search = {};
    stellar.search.service = 'local_search';
    if (stellar.search.service == 'local_search') {
      let service_obj = Object.assign({}, {"field":"all","path":"/search.json","content":true,"codeblock":true,"sort":"-date"});
      stellar.search[stellar.search.service] = service_obj;
    }
  }

  // stellar js
  stellar.plugins.stellar = Object.assign({"sites":"/js/plugins/sites.js","friends":"/js/plugins/friends.js","ghinfo":"/js/plugins/ghinfo.js","timeline":"/js/plugins/timeline.js","linkcard":"/js/plugins/linkcard.js","fcircle":"/js/plugins/fcircle.js","weibo":"/js/plugins/weibo.js"});

  stellar.plugins.marked = Object.assign("https://cdn.bootcdn.net/ajax/libs/marked/4.0.18/marked.min.js");
  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/vanilla-lazyload@17.8.3/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.css","js":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.js"});
  }
  if ('' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":null,"js":"https://gcore.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js","distance":"8px","duration":500,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://gcore.jsdelivr.net/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://gcore.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.fancybox = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js","css":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css","selector":".swiper-slide img"});
  }
  if ('false' == 'true') {
    stellar.plugins.heti = Object.assign({"enable":false,"css":"https://unpkg.com/heti@0.9.2/umd/heti.min.css","js":"https://unpkg.com/heti@0.9.2/umd/heti-addon.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.copycode = Object.assign({"enable":true,"js":"/js/plugins/copycode.js","default_text":"Copy","success_text":"Copied"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->



<!-- inject -->


  </div>
</body>
</html>
